<% layout("layouts/boilerplate") %>
<div class="container mb-5">
  <div class="row gap-5 gap-xl-0 mb-5">
    <div class="col-12 col-xl-6 search-wrapper">
      <label for="search" hidden>Search Countries</label>
      <input
        class="search-bar p-3"
        type="search"
        id="search"
        placeholder="Search for a country..."
        data-search
      />
    </div>
    <div class="col-12 col-xl-6 d-flex justify-content-xl-end filter-wrapper">
      <label for="region-filter" hidden>Filter by Region</label>
      <select id="region-filter" class="form-select p-3">
        <option value="">All Regions</option>
        <option value="Europe">Europe</option>
        <option value="Asia">Asia</option>
        <option value="Africa">Africa</option>
        <option value="Americas">Americas</option>
        <option value="Oceania">Oceania</option>
      </select>
    </div>
  </div>
  <div class="row justify-content-center justify-content-xl-start gx-5 gy-5">
    <% for (let country of countryData){ %>
    <div class="country-box col-9 col-xl-3">
      <a href="/<%= country.name.official %>">
        <div class="card w-100">
          <img
            src="<%= country.flags.png %>"
            class="card-img-top"
            alt="flag of <%= country.name.common %>"
          />
          <div class="card-body">
            <h5 class="card-title"><%= country.name.common %></h5>
            <p class="card-text mb-0">
              <span class="fw-600">Population</span>: <%=
              country.population.toLocaleString() %>
            </p>
            <p class="card-text mb-0">
              <span class="fw-600">Region</span>:
              <span class="country-region"><%= country.region %></span>
            </p>
            <p class="card-text mb-0">
              <span class="fw-600">Capital</span>: <%= country.capital %>
            </p>
          </div>
        </div>
      </a>
    </div>
    <% } %>
  </div>
</div>
<script src="/javascripts/search.js"></script>
<script src="/javascripts/filter.js"></script>
